# KNOWLEDGE_ARCHIVE.MD

**Purpose:** Institutional memory library - proven patterns, anti-patterns, and crisis protocols

**Navigation:** Use Ctrl+F / Grep search or click anchor links for direct access

**Update Protocol:** Add knowledge via pre-compact protocol after archive review for novelty and compliance

---

## Navigation Index

### [Architecture Patterns](#architecture-patterns)
- [Evidence-First Decision Making](#evidence-first-decision-making)
- [Incremental Execution Pattern](#incremental-execution-pattern)  
- [Component Isolation Principles](#component-isolation-principles)

### [Debugging Protocols](#debugging-protocols)
- [Crisis Investigation Protocol](#crisis-investigation-protocol)
- [Evidence-First Debugging](#evidence-first-debugging)
- [System State Verification](#system-state-verification)

### [Development Patterns](#development-patterns)
- [User Validation Gates](#user-validation-gates)
- [Pre-Compact Knowledge Consolidation](#pre-compact-knowledge-consolidation)
- [Token Investment Strategy](#token-investment-strategy)
- [AI Code Quality Assurance through Persona Testing](#ai-code-quality-persona-testing)

### [Anti-Patterns](#anti-patterns)
- [Compliance Theatre](#compliance-theatre)
- [Premature Optimization](#premature-optimization)
- [Context Accumulation](#context-accumulation)

### [Crisis Management](#crisis-management)
- [System Recovery Procedures](#system-recovery-procedures)
- [Rollback Safety Protocols](#rollback-safety-protocols)
- [Emergency Decision Framework](#emergency-decision-framework)

---

## Architecture Patterns

### Evidence-First Decision Making {#evidence-first-decision-making}

**Pattern:** All significant decisions require concrete evidence before conclusions

**Implementation:**
- Direct observation over assumption
- Actual output verification over expected behaviour  
- User confirmation over self-assessment
- File content verification over existence assumptions

**Prevention Value:** Prevents debugging loops caused by false assumptions

**Example Application:** [Your specific example of using this pattern]

**Cross-References:**
- See: [Evidence-First Debugging](#evidence-first-debugging)
- Related: [Crisis Investigation Protocol](#crisis-investigation-protocol)

---

### Incremental Execution Pattern {#incremental-execution-pattern}

**Pattern:** All work broken into small, testable, reversible logical units

**Implementation:**
- Single logical change → user validation → immediate commit
- Each unit must be independently testable
- Rollback capability maintained at all checkpoints
- User authority required for completion confirmation

**Prevention Value:** Prevents large-scale failures and enables rapid recovery

**Example Application:** [Your specific example]

**Cross-References:**  
- See: [User Validation Gates](#user-validation-gates)
- Related: [Rollback Safety Protocols](#rollback-safety-protocols)

---

## Debugging Protocols

### Crisis Investigation Protocol {#crisis-investigation-protocol}

**Trigger:** System failure, unexpected behaviour, or critical blocker

**Investigation Sequence:**
1. **Evidence Collection:** Gather concrete symptoms, error messages, system state
2. **Hypothesis Formation:** Form testable theories based on evidence only  
3. **Systematic Testing:** Test one variable at a time
4. **Root Cause Validation:** Confirm actual cause vs assumed cause
5. **Solution Implementation:** Apply minimal effective fix
6. **Prevention Documentation:** Add learnings to anti-patterns

**Prevention Value:** Systematic approach prevents crisis tunnel vision

**Example Application:** [Your crisis investigation example]

---

## Anti-Patterns

### Compliance Theatre {#compliance-theatre}

**Problem:** Performing compliance signals without genuine adherence

**Symptoms:**
- Elaborate self-assessments consuming high token allocation
- Perfect reported metrics masking actual protocol violations  
- Performance of systematic behaviour without substance
- Meta-commentary about AI behaviour instead of work

**Prevention:** Focus on substance over signalling, user validation over self-reporting

**Cross-References:** See [User Validation Gates](#user-validation-gates)

---

## Development Patterns

### AI Code Quality Assurance through Persona Testing {#ai-code-quality-persona-testing}

**Pattern:** Systematic testing using role-based personas to validate AI-generated code

**Implementation:**
- Adopt specific tester personas (picky tester, exploratory tester, security auditor)
- Test from user perspective rather than developer assumptions
- Focus on edge cases, integration points, and performance under load
- Use persona-driven test scenarios to catch realistic usage issues

**Prevention Value:** Catches integration bugs and performance issues human review misses

**Example Application:** Organizational Intelligence Demo testing revealed search fallback bugs, entity deduplication issues, and performance characteristics through systematic persona-based testing

**Cross-References:**
- See: [Evidence-First Decision Making](#evidence-first-decision-making)
- Related: [Crisis Investigation Protocol](#crisis-investigation-protocol)

---

*Continue adding patterns as they are discovered and validated through actual usage. Maintain navigation index and cross-reference integrity.*